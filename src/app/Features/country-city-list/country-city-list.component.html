<div class="container m-5">
  <div class="row">
    <form class="col-5" (submit)="onSubmit()">
      <div class="form-row">
        <div class="form-group col-sm-5 mb-2">
          <select class="btn btn-secondary" id="countries" (change)="updateCityList($event)">
            <option selected>Countries</option>
            <option *ngFor="let c of countries" value={{c.id}} [selected]="selectedCountryId === c.id"><a> {{c.name}}
              </a></option>
          </select>
        </div>

        <div class="form-group col-sm-5 mb-2" *ngIf="showCities">
          <select class="btn btn-secondary" id="cities" (change)="addCity($event)">
            <option>Cities</option>
            <option *ngFor="let c of cities" value={{c.id}} [selected]="selectedCityId === c.id"><a> {{c.name}} </a>
            </option>
          </select>
        </div>

        <div class="form-group col-sm-2" *ngIf="showCities">
          <button class="btn btn-secondary">Submit</button>
        </div>
      </div>
    </form>
  </div>
</div>

<div class="container m-5">
  <div class="row">
    <table *ngIf="showTable">
      <tr>
        <th>Country</th>
        <th>City</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>

      <tr *ngFor="let e of localData">
        <td *ngIf="selectedCountryId">{{e.country.name}}</td>
        <td *ngIf="selectedCityId">{{e.city.name}}</td>
        <td><a [routerLink]="['/edit-country']" [queryParams]="{ countryId: e.country.id, cityId:e.city.id}"
            routerLinkActive="router-link-active"> <img src="../../../assets/images/edit.png" alt="edit country" /></a>
        </td>
        <td><button class="border-0 bg-transparent" (click)="removeFromLocalStorage($event)"><img id={{e.country.id}}
              src="../../../assets/images/delete.png" alt="delete country" /></button></td>
      </tr>
    </table>
  </div>
</div>










<!-- <div >
  {{selectedCountry.name}}
</div>
<div *ngIf="selectedCity">
  {{selectedCity.name}}
</div> -->
<!-- <div class="container"> -->
<!-- <div *ngFor="let city of addedCities">
  <span class="mr-3">{{selectedCountry.name}}</span>
  <span class="mr-3">{{city.name}}</span>
  <button [routerLink]="['/edit-country', city.countryId, city.id]" routerLinkActive="router-link-active"> Edit Country
  </button>
</div> -->
<!-- </div> -->

<!-- Countries -->
<!-- <div class="btn-group w-100" dropdown>
  <button id="button-basic" dropdownToggle type="button" class="btn dropdown-toggle w-100"
    aria-controls="dropdown-basic"> <span>All Countries</span> <span class="caret"></span>
  </button>
  <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
    <li role="menuitem" *ngFor="let c of countries; let i = index;" ><a class="dropdown-item" [ngClass]="{active: id && country.id === c.id }" id={{i}} (click)="getCountry(i+1)">{{c.name}}</a></li>
  </ul>
</div> -->
<!-- Cities -->
<!-- <div class="btn-group w-100" dropdown>
  <button id="button-basic" dropdownToggle type="button" class="btn dropdown-toggle w-100"
    aria-controls="dropdown-basic"> <span>All Cities</span> <span class="caret"></span>
  </button>
  <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic">
    <li role="menuitem" *ngFor="let c of cities"><a class="dropdown-item" [ngClass]="{active: cid && city.id === c.id }" (click)="addCity(c)">{{c.name}}</a></li>
  </ul>
</div> -->
